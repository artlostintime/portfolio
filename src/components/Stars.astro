---
// Starfield background component
---

<div class="stars" id="stars"></div>

<style>
  .stars {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
  }
  
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle var(--duration) ease-in-out infinite;
  }
  
  @keyframes twinkle {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
  }
</style>

<script>
  // Generate random stars with parallax effect
  const starsContainer = document.getElementById('stars');
  const starCount = 150;
  
  for (let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    
    // Varying sizes for depth
    const size = Math.random() * 2 + 1;
    star.style.width = size + 'px';
    star.style.height = size + 'px';
    
    // Parallax data attribute
    star.setAttribute('data-speed', (Math.random() * 0.5 + 0.1).toFixed(2));
    
    star.style.setProperty('--duration', (2 + Math.random() * 3) + 's');
    star.style.animationDelay = Math.random() * 3 + 's';
    starsContainer?.appendChild(star);
  }
  
  // Parallax scroll effect
  let ticking = false;
  
  window.addEventListener('scroll', () => {
    if (!ticking) {
      window.requestAnimationFrame(() => {
        const scrolled = window.pageYOffset;
        const stars = document.querySelectorAll('.star');
        
        stars.forEach(star => {
          const speed = parseFloat(star.getAttribute('data-speed') || '0.1');
          const yPos = scrolled * speed;
          if (star instanceof HTMLElement) {
            star.style.transform = `translateY(${yPos}px)`;
          }
        });
        
        ticking = false;
      });
      ticking = true;
    }
  });
</script>
